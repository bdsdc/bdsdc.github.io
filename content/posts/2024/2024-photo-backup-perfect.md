---
title: "ä¸ªäººç…§ç‰‡ç›¸å†Œç³»ç»Ÿå’Œå¤‡ä»½å®Œç¾è§£å†³æ–¹æ¡ˆ"
date: 2024-12-06
lastmod: 2024-12-06
author: 'bdsdc'
linkToMarkdown: true
categories: ['homesystem']
tags: ['tools']
---


# ä¸ªäººç…§ç‰‡ç¥çº§ç›¸å†Œç³»ç»Ÿå’Œå¤‡ä»½å®Œç¾è§£å†³æ–¹æ¡ˆ

## å‰è¨€
éšç€æ—¶ä»£è¿›æ­¥å’Œå‘å±•ï¼Œç…§ç‰‡è¶Šæ¥è¶Šæ¸…æ™°ï¼Œè¶Šæ¥è¶Šå¤§ï¼Œæˆ‘ä»¬ä¹Ÿéƒ½æ›´çˆ±ç”¨ç…§ç‰‡æˆ–è€…è§†é¢‘è®°å½•ç¾å¥½ç”Ÿæ´»
å­˜å‚¨ç©ºé—´é—®é¢˜å¼€å§‹æ˜¾éœ²å‡ºæ¥ï¼Œæ‰‹æœºå­˜å‚¨ç©ºé—´æŠ¥è­¦ï¼Œç½‘ç›˜ç©ºé—´å¤‡ä»½ä¸æ–¹ä¾¿ï¼Œå¹¶ä¸”ä¹Ÿä¸èƒ½æ™ºèƒ½å±•ç¤ºç…§ç‰‡
æ¯”å¦‚æ ¹æ®å¤´åƒåˆ†ç±»ï¼Œè¯†åˆ«ç…§ç‰‡ä¿¡æ¯åƒç´ åœ°å€ï¼Œå±•ç¤ºç›¸å†Œä½ç½®åœ°å›¾ï¼Œç¬é—´ï¼ŒLiveå›¾ï¼Œç­‰ä¹‹ç±»çš„
æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ™ºèƒ½ç›¸å†Œç³»ç»Ÿï¼Œèƒ½å¤Ÿæ¸…æ™°æ— æŸåˆ†ç±»å±•ç¤ºç…§ç‰‡ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åŒæ­¥æœ€æ–°ç…§ç‰‡åˆ°ç›¸å†Œ
é¿å…æ‰‹æœºçªç„¶æ•…éšœï¼Œè¿˜å¸Œæœ›èƒ½æ–¹ä¾¿çš„å¤‡ä»½ç›¸å†Œç…§ç‰‡åˆ°ç½‘ç›˜ï¼Œå¦‚æœè€ƒè™‘æ›´å…¨é¢ä¸€ç‚¹ï¼Œå¢åŠ å¼‚åœ°å¤‡ä»½
æˆ–è€…é€šè¿‡å¤‡ä»½å¤šä¸ªç½‘ç›˜æ¥è§£å†³ï¼Œç»è¿‡æœ€è¿‘çš„ç ”ç©¶å’Œæ¢ç´¢ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå®Œç¾è§£å†³æ–¹æ¡ˆï¼Œè¯·å¾€ä¸‹çœ‹

## ä»‹ç»
è¿™é‡Œæˆ‘ä»¬ä¼šæŠŠå‰é¢æ‰€æœ‰çš„ä¸œè¥¿ç»“åˆèµ·æ¥ï¼Œæ‰“é€ ä¸€ä¸ªç›¸å†Œç³»ç»Ÿ+å¤‡ä»½çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™é‡Œæ²¡æœ‰ç”¨NASï¼Œæ˜¯å› ä¸ºæˆ‘è§‰å¾—NASè·Ÿubuntuç³»ç»Ÿæ²¡ä»€ä¹ˆåŒºåˆ«
å¹¶ä¸”WSLæ˜¯windowsæ‰“é€ çš„linuxç³»ç»Ÿå·¥å…·ï¼Œè·Ÿwindowsç»“åˆéå¸¸å¥½ï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ä¸æ»‘ 
- åŸºç¡€ç¯å¢ƒï¼šwindowsçš„WSLå®‰è£…çš„ubuntuç³»ç»Ÿ
- é¢æ¿ç³»ç»Ÿï¼š1panel
- ç›¸å†Œç³»ç»Ÿï¼š photoprism 
- åŒæ­¥å·¥å…·ï¼šsyncthing 
- ç½‘ç›˜ç³»ç»Ÿï¼šalist 
- å¤‡ä»½å·¥å…·ï¼šrclone 
- ç©¿é€å·¥å…·ï¼šcloudflare tunnel
## ubuntuç³»ç»Ÿå®‰è£… 
å‚è€ƒä¹‹å‰æ–‡ç« æ¥è¿›è¡Œå®‰è£…
[https://wiki.budongshu.cn/homesystem/windows-wsl/#_1](https://wiki.budongshu.cn/homesystem/windows-wsl/#_1)

## 1panel 
### å®‰è£…1panel 
ä¸å¾—ä¸è¯´ä¸‹ï¼Œ1panelçš„åº”ç”¨å•†åº—ï¼Œæˆ‘è§‰å¾—é€‰å“éƒ½éå¸¸ä¼˜ç§€ï¼Œéƒ½æ˜¯ä¸€äº›æµè¡Œä¸”å…¼å…·å®ç”¨çš„è½¯ä»¶ï¼Œä¹‹å‰æœ‰åšå®¢å†™è¿‡å®‰è£…æ­¥éª¤ï¼Œè¿™é‡Œä¸åœ¨é‡å¤ï¼Œä¸»è¦æä¾›å·¥å…·å’Œæ€è·¯ï¼Œå‚è€ƒä¹‹å‰æ¥è¿›è¡Œå®‰è£…

[https://wiki.budongshu.cn/homesystem/windows-ubuntu%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1/#_2](https://wiki.budongshu.cn/homesystem/windows-ubuntu%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1/#_2)

### ç•Œé¢å±•ç¤º
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052111988.png)

## photoprism 
- æ“ä½œç³»ç»Ÿä¸é™, Windows, MacOSä»¥åŠLinuxéƒ½æ”¯æŒ
- ç³»ç»Ÿé…ç½®è¦æ±‚æœ€ä½ï¼š2c3g
- å‡†å¤‡å¥½dockerç¯å¢ƒå’Œdocker-composeç¯å¢ƒ
- å‡†å¤‡å¥½å¤§å­˜å‚¨ç›®å½•
- ä½¿ç”¨Windows: ä½¿ç”¨WSL Linuxå­ç³»ç»Ÿubuntuç¯å¢ƒ
- æ³¨æ„photoprismæ•°æ®åº“ä½¿ç”¨çš„æ˜¯MariaDB 

### å®‰è£…æ•°æ®åº“

é¦–å…ˆæˆ‘çš„windowsç”µè„‘Dç›˜æ˜¯ç©ºé—²ç›˜ï¼Œä½œä¸ºæœ¬æ¬¡photoprismå­˜å‚¨ç…§ç‰‡æ¥ä½¿ç”¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨ubuntuå­ç³»ç»Ÿï¼ˆwindowsçš„WSLï¼‰ä¸­ï¼Œé€šè¿‡`df -h`,å¯ä»¥çœ‹åˆ°`/mnt/d/`ä¸ºå¯¹åº”windowsçš„Dç›˜ï¼Œ
æ‰€ä»¥æˆ‘è¿™é‡Œä½¿ç”¨`/mnt/d`ä½œä¸ºæœ¬æ¬¡ç›¸å†Œç³»ç»Ÿçš„å­˜å‚¨ç›®å½•

æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨1panelé¢æ¿æ¥å®‰è£…ï¼Œæœ‰ç°æˆçš„è½®å­ï¼Œæˆ‘ä»¬å½“ç„¶è¦åˆ©ç”¨èµ·æ¥ 

å®‰è£…MariaDBæ•°æ®åº“ï¼Œæˆ‘ä»¬é€šè¿‡1panelé¢æ¿çš„åº”ç”¨å•†åº—æ¥å®‰è£…

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052133126.png)

å®‰è£…é…ç½®ï¼Œå¯ä»¥è®¾ç½®ä¸‹èµ„æºé…ç½®
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052144597.png)


å¯ä»¥æ›´æ”¹ä¸€ä¸‹docker-composeï¼Œæ›´æ”¹volumeï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œè¦æ”¹æˆ`- /mnt/d/mariadb/data` 
```shell
mkdir -pv /mnt/d/mariadb/{data,conf}
```
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052145370.png)

å¦‚æœä¸Šé¢æ›´æ”¹ç›®å½•ï¼Œé€ æˆéƒ¨ç½²é”™è¯¯ï¼Œå¯ä»¥å…ˆæŒ‰ç…§1panelé»˜è®¤å»ºè®®ç›®å½•æ¥å®‰è£…ï¼Œé—®é¢˜ä¸å¤§ï¼Œæ­¤æ•°æ®åº“å ç”¨ç©ºé—´ä¸ä¼šå¤ªå¤§

åˆ›å»ºä¸€ä¸ªdbæ•°æ®åº“ï¼Œç»™photoprismæœåŠ¡ä½¿ç”¨

è¿™é‡Œå°±å¾ˆç®€å•äº†ï¼Œéƒ½æ˜¯é¡µé¢æ“ä½œï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼Œè®°ä½ç”¨æˆ·åå’Œå¯†ç ï¼Œåé¢åœ¨å®‰è£…photoprismçš„æ—¶å€™ï¼Œå¡«å…¥1panelé…ç½®ä¸­
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052255273.png)

### å®‰è£…photoprismæœåŠ¡

```shell
# å…ˆåˆ›å»ºä¸»ç›®å½•
mkdir /mnt/d/photoprism 
# åœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºä¸‰ä¸ªå­ç›®å½•,åˆ†åˆ«æ˜¯import,originals,storage
mkdir /mnt/d/photoprism/{import,originals,storage} 
```

å…³äºä¸‰ä¸ªç›®å½•çš„ä½œç”¨
- originals: åŸå§‹ç…§ç‰‡ç›®å½•, ä½ å¯ä»¥æŠŠä½ å­˜åœ¨çš„ç…§ç‰‡æ”¾åœ¨è¿™ä¸ªç›®å½•
- import: å¾…å¯¼å…¥ç…§ç‰‡, è¿™ä¸ªç›®å½•çš„ç…§ç‰‡ä¼šç­‰å¾…å¯¼å…¥å¹¶è¢«photoprismå¤„ç† (å¤„ç†æ˜¯æŒ‡å¯¹ç…§ç‰‡åšåˆ†æä¸ç´¢å¼•,å­˜å…¥åŸå§‹ç›®å½•ç­‰)
- storage: è¿™ä¸ªç›®å½•æ˜¯photoprismç¨‹åºäº§ç”Ÿçš„å„ç§æ–‡ä»¶,æ¯”å¦‚ç´¢å¼•ç…§ç‰‡ç¼©ç•¥å›¾,ç¼“å­˜ç­‰

æœ¬æ¬¡æˆ‘ä»¬å®‰è£…ä¾ç„¶é‡‡ç”¨1panelæ¥å®‰è£…ï¼Œä¸‹é¢æˆ‘é€šè¿‡1panelå¦‚ä½•æ¥å®‰è£…è®¾ç½®
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052244915.png)
é€‰æ‹©æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ•°æ®åº“ï¼Œç„¶åé…ç½®ä½¿ç”¨çš„dbåº“ï¼Œä»¥åŠç”¨æˆ·åå’Œå¯†ç 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052245922.png)

é€‰æ‹©èµ„æºé…ç½®cpuå’Œå†…å­˜ï¼Œä»¥åŠç¼–è¾‘docker-composeæ–‡ä»¶ï¼Œæ›´æ”¹volumeé…ç½® 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052248495.png)

æœ€åæ›´æ”¹volumeé…ç½®åï¼Œå¯ä»¥å…ˆå…³æ³¨çº¢è‰²æ¡†çš„ä¸‰ä¸ªé…ç½®ï¼Œå…¶ä»–çš„ä¿©ä¸ªvolumeå¯ä»¥å…ˆå¿½ç•¥ï¼Œåé¢ä¼šè®²
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052253065.png)
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052254950.png)

### å¯åŠ¨
æˆ‘ä»¬é€šè¿‡1panelå®¹å™¨æŸ¥çœ‹ï¼Œæ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼Œå¦‚æœå¯åŠ¨å¤±è´¥ï¼Œå¯ä»¥æ ¹æ®æç¤ºæˆ–è€…è¿›å…¥æ—¥å¿—æ§åˆ¶å°æŸ¥çœ‹å…·ä½“æŠ¥é”™

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052305286.png)

```shell
# ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¤„ç†æŠ¥é”™ï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤æ‰¾åˆ°photoprismå®¹å™¨
docker ps -a
# æ¯”å¦‚å®¹å™¨åå­—å°±å«åšphotoprism,æŸ¥çœ‹æ—¥å¿—æŠ¥é”™æ¥è§£å†³
docker logs -f photoprism
```

é€šè¿‡æŸ¥çœ‹ç«¯å£ï¼Œé€šè¿‡æœ¬æœºIPåœ°å€ï¼Œæ¯”å¦‚æˆ‘çš„ç«¯å£æ˜¯12343ï¼ˆç«¯å£å¯ä»¥åœ¨ä¸Šé¢é…ç½®è‡ªå®šä¹‰ï¼‰è®¿é—®åœ°å€æ˜¯ http://localhost:12343 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052312122.png)
ä½¿ç”¨åˆšåˆš1panelé…ç½®ä¸­çš„ç®¡ç†å‘˜ç”¨æˆ·åå¯†ç ç™»å½•å°±å¯ä»¥äº†. ç™»å½•è¿›å»ä¼šå‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰è¿˜æ²¡æœ‰å¯¼å…¥ç…§ç‰‡ã€‚


### å¯¼å…¥ç…§ç‰‡
ç°åœ¨photoprism å°±å·²ç»æ­£å¸¸è·‘èµ·æ¥ï¼Œä¸‹é¢å°±æ˜¯å¦‚ä½•æŠŠç…§ç‰‡å¯¼å…¥åˆ°è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œé€šè¿‡å­¦ä¹ äº†è§£ï¼Œæˆ‘ä»¬æœ‰å¤šç§æ–¹å¼æ¥å¯¼å…¥ç…§ç‰‡

ä½†ä½ ç°åœ¨ä¼šå‘ç°ï¼Œä½ è¿˜æ²¡æœ‰ä»»ä½•ç…§ç‰‡è§†é¢‘ï¼Œä½ ç°åœ¨çš„éœ€æ±‚å…¶å®æ˜¯ä¸¤ä¸ª:
- å¯¼å…¥æ—§æœ‰çš„å­˜åœ¨çš„ç›¸ç‰‡
- åç»­å¦‚ä½•åŒæ­¥æ–°çš„ç›¸ç‰‡



é‚£ä¹ˆå¦‚ä½•å¯¼å…¥ç…§ç‰‡å‘¢ï¼Ÿ
è¿™é‡Œå…ˆè®²ä¸‹å¦‚ä½•å¯¼å…¥æ—§çš„å­˜åœ¨çš„ç›¸ç‰‡å¹¶å®Œæˆç´¢å¼•ï¼Œæ‰€è°“ç´¢å¼•æ˜¯æŒ‡å¯¹ç…§ç‰‡çš„ä¿¡æ¯å…ƒæ•°æ®,æ¯”å¦‚åœ°ç‚¹,å¤§å°,æ‹æ‘„æ—¶é—´ç­‰åšæå–, åŒæ—¶å¯¹ç…§ç‰‡ç”Ÿæˆå„ç§å¤§å°çš„ç¼©ç•¥å›¾ç…§ç‰‡. (ä½ åœ¨UIä¸Šçœ‹åˆ°çš„å°å›¾,å…¶å®æ˜¯ç¼©ç•¥å›¾,è€Œä¸æ˜¯åŸç…§ç‰‡)

å‰é¢çš„é…ç½®æ–‡ä»¶ä¸­,æåŠäº†ä¸¤ä¸ªç›®å½•, ä¸€ä¸ªæ˜¯`originals`,å¦ä¸€ä¸ªæ˜¯`import`, æ—§æœ‰çš„ç›¸ç‰‡å¯ä»¥æ”¾åœ¨`import`ç›®å½•ä¸‹, ä¹Ÿå¯ä»¥æ”¾åœ¨`originals`ç›®å½•ä¸‹.
è¿™é‡Œæˆ‘å»ºè®®å¯ä»¥é€‰æ‹©æ”¾åœ¨`originals`ç›®å½•ä¸‹ 
`originals` æ˜¯photoprismå­˜æ”¾ç›¸ç‰‡åŸæ–‡ä»¶çš„åœ°æ–¹,æ‰€æœ‰photoprismçš„ç›¸ç‰‡æœ€ç»ˆçš„åŸæ–‡ä»¶,éƒ½åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚ï¼ˆè¿™ä¸ªå°±ä¼šç”¨åˆ°åé¢è¯´çš„åŒæ­¥å·¥å…·è½¯ä»¶syncthingï¼‰
æ‰€ä»¥ä½ å¯ä»¥æŠŠå·²æœ‰çš„æ—§ç›¸ç‰‡ç›´æ¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œä½†æ˜¯ç”±äºphotoprismæ²¡æœ‰å¯¹ä½ è¿™äº›å·²å­˜åœ¨çš„ç›¸ç‰‡åšç´¢å¼•ï¼Œ æ‰€ä»¥ä½ éœ€è¦åœ¨WEB UIä¸Šè§¦å‘ä¸€ä¸ªå…¨é‡ç´¢å¼•æ“ä½œã€‚

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052343847.png)
è¿›å…¥èµ„æ–™åº“, ç„¶åç‚¹å‡»ç´¢å¼•é¡µ

`import` ä½ ä¹Ÿå¯ä»¥æŠŠå­˜åœ¨çš„ç…§ç‰‡æ”¾åˆ°importç›®å½•ä¸‹ï¼Œç„¶ååœ¨èµ„æ–™åº“çš„å¯¼å…¥é¡µä¸­ï¼Œé€‰æ‹©ä½ çš„ç›®å½•ï¼Œå¯¼å…¥ä½ çš„ç…§ç‰‡ã€‚
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412060015058.png)

ä¿©ä¸ªç›®å½•åŒºåˆ«ä¸é€‰æ‹©
å…±åŒç‚¹ï¼š
- éƒ½ä¼šå¯¹ç…§ç‰‡åšç´¢å¼•

ä¸åŒç‚¹ï¼š
- importç›®å½•ä¸‹çš„ç…§ç‰‡ï¼Œä¼šæŒ‰ç…§æ—¥æœŸé‡æ–°è¿›å…¥å‘½åï¼Œå¹¶å°†å…¶å­˜å…¥originalsç›®å½•ä¸‹ã€‚
- importç›¸å½“äºä¸€ä¸ªå¾…å¤„ç†çš„ä¸´æ—¶ç›®å½•, è€Œoriginalsåˆ™æ˜¯ä½ åŸå§‹ç…§ç‰‡å­˜æ”¾çš„çœŸæ­£ç›®å½•

### å¯¼å…¥ç…§ç‰‡å»ºè®®é€‰æ‹©
æ‰€ä»¥ä½ çš„å·²æœ‰ç…§ç‰‡ç©¶ç«Ÿæ˜¯æ”¾importè¿˜æ˜¯originalsï¼Œå…³é”®ç‚¹åœ¨äºä½ æ˜¯å¦å¸Œæœ›photoprismté‡æ–°å‘½åä½ çš„ç…§ç‰‡ã€‚
å¦‚æœä½ çš„ç…§ç‰‡æ˜¯å·²ç»æœ‰è§„åˆ™å­˜æ”¾å¥½çš„ï¼Œå°±æŠŠå®ƒæ”¾åœ¨originalsï¼Œå¦åˆ™æŠŠå®ƒæ”¾importä¸­ï¼Œè®©ç¨‹åºæŒ‰ç…§æ—¥æœŸé‡æ–°æ•´ç†ä½ çš„ç…§ç‰‡ï¼Œæ˜¯ä¸ªéå¸¸ä¸é”™çš„é€‰æ‹©ã€‚

*éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç´¢å¼•æ˜¯éå¸¸è€—æ—¶çš„æ“ä½œ, æˆ‘å½“æ—¶1500åƒå¼ ç…§ç‰‡,ç´¢å¼•èŠ±è´¹äº†åŠå°æ—¶.*

é€šè¿‡importç›®å½•å¯¼å…¥åçš„ç›®å½•ç»“æ„ï¼Œç³»ç»Ÿä¼šæ ¹æ®æ—¶é—´è¿›è¡Œç›®å½•è§„åˆ’åˆ‡åˆ†
```shell
2021
â”œâ”€â”€ 04
â”‚Â Â  â”œâ”€â”€ 20210430_094239_4DC634BC.jpg
â”‚Â Â  â”œâ”€â”€ 20210430_114039_E05E78F3.jpg
â”‚Â Â  â”œâ”€â”€ 20210430_120718_3C8E92F2.jpg
â”‚Â Â  â””â”€â”€ 20210430_120734_2B014E86.jpg
â”œâ”€â”€ 05
â”‚Â Â  â”œâ”€â”€ 20210501_095824_0F2A7697.jpg
â”‚Â Â  â”œâ”€â”€ 20210501_161637_02B094F6.jpg
â”‚Â Â  â”œâ”€â”€ 20210501_161800_377F14E1.jpg
â”‚Â Â  â”œâ”€â”€ 20210501_174414_9AE325CC.jpg
â”‚Â Â  â”œâ”€â”€ 20210501_174511_79845FE1.jpg
â”‚Â Â  â”œâ”€â”€ 20210501_192649_A99A0A1A.jpg
â”‚Â Â  â”œâ”€â”€ 20210501_193137_E632007B.jpg
â”‚Â Â  â”œâ”€â”€ 20210502_112902_6244D36B.jpg
â”‚Â Â  â”œâ”€â”€ 20210502_113933_57D40310.jpg
â”‚Â Â  â”œâ”€â”€ 20210504_114226_E40B20EB.jpg
â”‚Â Â  â””â”€â”€ 20210504_203742_43D611F7.jpg
â”œâ”€â”€ 08
â”‚Â Â  â””â”€â”€ 20210829_213906_7E352431.jpg
â””â”€â”€ 11
    â””â”€â”€ 20211127_181818_D4A21A3A.jpg

5 directories, 17 files
ä¸Šé¢è¿™ä¸ªå°±æ˜¯`2021å¹´çš„ç›¸ç‰‡`, æ¯ä¸ªç›¸ç‰‡éƒ½ä»¥æ—¶é—´ + éšæœºç æ¥å‘½åã€‚
```
å¦‚æœç›¸ç‰‡éå¸¸æ‚ä¹±ï¼Œè¿ç§»ç›¸ç‰‡æ—¶ï¼Œ ç»è¿‡photoprismtè¿™ä¹ˆä¸€å¤„ç†ï¼Œå°±ä¼šå˜æˆæŒ‰æ—¥æœŸå­˜å‚¨çš„éå¸¸æœ‰è§„å¾‹çš„æ–‡ä»¶ã€‚

è¿˜æœ‰ä¸€ä¸ªé€šè¿‡webé¡µé¢æ§åˆ¶å°ï¼Œå¯¼å…¥ï¼Œå¦‚æœæœ‰ä¸´æ—¶å¯¼å…¥éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªå¯¼å…¥åŠŸèƒ½æ¥è¿›è¡Œå¯¼å…¥ 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412052324028.png)

### ä¸­æ–‡
æ”¯æŒè®¾ç½®è¯­è¨€ï¼Œè®¾ç½®æˆä¸­æ–‡è¯­è¨€
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070903181.png)
### webdav
photoprismæ˜¯æ”¯æŒwebdavçš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡webdavå®¢æˆ·ç«¯æ¥è®¿é—®æˆ‘ä»¬å·²ç»å¯¼å…¥çš„å›¾ç‰‡ï¼Œæ­¤åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå®ç”¨çš„
è¿™æ ·å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡webdavå·¥å…·ï¼Œå¯¼å…¥ç…§ç‰‡ï¼Œè¿™ä¸ªå¯¼å…¥çš„ç…§ç‰‡æ˜¯æ”¾åœ¨å‰é¢è¯´çš„ `originals`ç›®å½•çš„
å¯¼å…¥åï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸‹æ‰«æï¼Œä¸ºäº†å»ºç«‹ç´¢å¼•
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070904087.png)


### åˆ é™¤ç…§ç‰‡
é¦–å…ˆåˆ é™¤çš„åŠŸèƒ½é»˜è®¤æ˜¯å…³é—­ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‰“å¼€ï¼Œå¦‚ä¸‹
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070903181.png)

åˆ é™¤ç…§ç‰‡æ˜¯é€šè¿‡å½’æ¡£çš„å½¢å¼æ¥åˆ é™¤ï¼Œå…ˆé€‰ä¸­è¦åˆ é™¤çš„ç…§ç‰‡ï¼Œç„¶åç‚¹å‡»å½’æ¡£ï¼Œåœ¨å½’æ¡£é‡Œé¢é€‰æ‹©åˆ é™¤çš„ç…§ç‰‡ 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070905781.png)

åœ¨å½’æ¡£é‡Œé¢ï¼Œæ‰å¯ä»¥åˆ é™¤
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070909345.png)
å¦‚æœæ˜¯åˆ é™¤ç›¸å†Œé‡Œé¢çš„ç…§ç‰‡ï¼Œéœ€è¦å…ˆç§»å‡ºç›¸å†Œ


### ä½¿ç”¨ä½“ä¼š
æ•´ä½“æ„Ÿè§‰çœ¼å‰ä¸€äº®ï¼Œå¯ä»¥é€šè¿‡å»ºç«‹ç›¸å†Œï¼Œåˆ†ç±»æ•´ç†æˆ‘ä»¬çš„ç…§ç‰‡ï¼Œä½†æ˜¯æ“ä½œåŠŸèƒ½å’Œä½¿ç”¨æ–¹ä¾¿ä¸€èˆ¬ï¼Œ
UIæ–¹é¢è¿˜ç®—æŒºä¸é”™çš„ï¼Œè¯¥æœ‰çš„åŠŸèƒ½ä¹Ÿéƒ½æœ‰ï¼Œä¸è¿‡æ„Ÿè§‰æœ‰äº›æ“ä½œåŠŸèƒ½è¿‡äºç¹çï¼Œå°±æ¯”å¦‚åˆ é™¤ç…§ç‰‡ï¼Œ
äººè„¸è¯†åˆ«å’Œåœ°å›¾åŠŸèƒ½ä½“éªŒä¸€èˆ¬ï¼Œå¯¹æ‰‹æœºç½‘é¡µç«¯é€‚é…æ¯”è¾ƒå‹å¥½

## syncthing 
è¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸ªç¥çº§åŒæ­¥å·¥å…·ï¼Œsynthing 
å®˜ç½‘: [https://syncthing.net/](https://syncthing.net/)

### å‰è¨€
æˆ‘ä»¬è¿™é‡Œä½¿ç”¨åœºæ™¯æ¯”è¾ƒç®€å•ï¼Œè¯¥è½¯ä»¶æ”¯æŒå¤šå¯¹å¤šæˆ–è€…ä¸­å¿ƒåª’ä»‹ï¼Œå¤šç§æ–¹å¼æ¥åŒæ­¥
æˆ‘ä»¬ä»Šå¤©åªè€ƒè™‘ä¸€ç§å•å‘åŒæ­¥ç…§ç‰‡ 

æˆ‘ä»¬ç†Ÿæ‚‰äº†photoprismçš„ä¿©ä¸ªå¯¼å…¥ç›®å½•ï¼Œå…¶ä¸­æˆ‘ä»¬æ˜¯å¯ä»¥æŠŠæ–°ç…§ç‰‡æ”¾åœ¨`originals`ç›®å½•ï¼Œç„¶ååœ¨å»ºç«‹ä¸€ä¸ªç´¢å¼•
è¿™ä¸ªäº‹æƒ…å°±æå®šäº†ï¼Œç´¢å¼•okåï¼Œåœ¨ç…§ç‰‡é‡Œé¢å°±èƒ½çœ‹åˆ°æœ€æ–°çš„åŒæ­¥è¿‡å»çš„ç…§ç‰‡

ä½†æ˜¯å¯¹äºæ–°ç…§ç‰‡ï¼Œæˆ‘ä»¬æ€ä¹ˆèƒ½æ›´å¥½çš„åŒæ­¥å‘¢ï¼Œæœ€å¥½æ˜¯å¯ä»¥è‡ªåŠ¨æ–¹ä¾¿çš„åŒæ­¥ï¼Œæˆ–è€…ä»»æ„åœ°ç‚¹åŒæ­¥
æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨syncthingæŠŠæ‰‹æœºç…§ç‰‡åŒæ­¥åˆ°photoprismçš„`originals`ç›®å½• 

### ä»‹ç»

ğŸ’» Syncthingæ˜¯ä»€ä¹ˆï¼Ÿ
Syncthingæ˜¯ä¸€æ¬¾å»ä¸­å¿ƒåŒ–çš„æ•°æ®åŒæ­¥è½¯ä»¶ï¼Œé€‚ç”¨äºä¸åŒå¹³å°ä¹‹é—´ã€‚å®ƒä¸éœ€è¦é€šè¿‡äº‘ç›˜ç­‰ä¸­é—´æœåŠ¡å™¨æ¥ä¼ è¾“æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡åœ¨çº¿è®¾å¤‡ä¹‹é—´çš„ç‚¹å¯¹ç‚¹åŒæ­¥æ¥å®ç°ã€‚

ğŸ“‚ Syncthingçš„ç”¨é€”
æˆ‘ä¸»è¦ç”¨Syncthingæ¥å¤„ç†ä»¥ä¸‹å‡ é¡¹ä»»åŠ¡ï¼š
- 1ï¸âƒ£ åœ¨Windowså’Œå®‰å“æ‰‹æœºä¸ŠåŒæ­¥Obsidianæœ¬åœ°ç¬”è®°ï¼›
- 2ï¸âƒ£ åœ¨Windowså’Œå®‰å“æ‰‹æœºä¸ŠåŒæ­¥æœ¬åœ°æ­Œæ›²ï¼›
- 3ï¸âƒ£ å°†Windowsä¸Šçš„æ–‡ä»¶æ— æ„Ÿå‘é€åˆ°æ‰‹æœºï¼Œæˆ–ä»æ‰‹æœºå‘é€åˆ°Windowsï¼Œç¡®ä¿ä¸¤ç«¯æ–‡ä»¶ä¸€è‡´ï¼›
- 4ï¸âƒ£ å°†æ‰‹æœºç«¯çš„é€šè¯å½•éŸ³è‡ªåŠ¨å¤‡ä»½åˆ°Windowsï¼Œæ‰‹åŠ¨åˆ é™¤æ‰‹æœºç«¯æ–‡ä»¶ä¸å½±å“ç”µè„‘ç«¯å¤‡ä»½ï¼›
- 5ï¸âƒ£ ç”¨æ‰‹æœºæ‹ç…§ã€å½•è§†é¢‘åï¼Œæ–‡ä»¶è‡ªåŠ¨åŒæ­¥åˆ°Windowsï¼Œæ–¹ä¾¿è¿›è¡Œåˆ›ä½œï¼›
- 6ï¸âƒ£ åœ¨Windowsä¸Šæµè§ˆæ‘„å½±ä½œå“æ—¶ï¼Œä¿å­˜åˆ°ç”µè„‘æœ¬åœ°ï¼Œå¹¶è‡ªåŠ¨æ¨é€ç»™æ‰‹æœºï¼›
- 7ï¸âƒ£ å°†Windowsä¸Šçš„ç›¸å†Œã€è§†é¢‘å›å¿†å½•è‡ªåŠ¨åŒæ­¥åˆ°å®‰å“ç”µè§†ç›’å­ï¼Œæ–¹ä¾¿åœ¨å¤§å±ä¸Šè§‚çœ‹

### ubuntu å®‰è£…syncthing
è¿™é‡Œæˆ‘ä»¬é€šè¿‡docker-composeéƒ¨ç½²å®‰è£…
```shell
# åˆ›å»ºç›®å½•
mkdir /mnt/d/syncthing
```

```shell
# cat /mnt/d/syncthing/docker-compose.yml

---
version: "3"
services:
  syncthing:
    image: syncthing/syncthing
    container_name: syncthing
    hostname: my-syncthing
    environment:
      - PUID=1000
      - PGID=1000
    volumes:
      - /mnt/d/syncthing:/var/syncthing  #æ³¨æ„è¿™é‡Œçš„ç›®å½•
    ports:
      - 8384:8384 # Web UI
      - 22000:22000/tcp # TCP file transfers
      - 22000:22000/udp # QUIC file transfers
      - 21027:21027/udp # Receive local discovery broadcasts
    network_mode: host 
    restart: unless-stopped
    healthcheck:
      test: curl -fkLsS -m 2 127.0.0.1:8384/rest/noauth/health | grep -o --color=never OK || exit 1
      interval: 1m
      timeout: 10s
      retries: 3
```
### å¯åŠ¨syncthing 

```shell
cd /mnt/d/synthing 
docker-compose up -d

docker ps  |grep syncthing  
```
ä¹Ÿå¯ä»¥è®¿é—®1panelé¢æ¿æ¥æŸ¥çœ‹ï¼Œå³ä½¿éé¢æ¿åº”ç”¨å•†åº—çš„åº”æœ‰ï¼Œé¢æ¿ä¹Ÿå¯ä»¥ç®¡ç†ï¼Œé¢æ¿æ˜¯æœåŠ¡äºæœºå™¨çš„ 
åªè¦æ˜¯æœºå™¨ä¸Šçš„è¿›ç¨‹ï¼Œå®¹å™¨ï¼ŒæœåŠ¡ç­‰ï¼Œéƒ½ä¹Ÿå¯ä»¥åœ¨é¢æ¿è¢«ç®¡ç†

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070914397.png)


### æ‰‹æœºå®‰è£…syncthing 
æ‰‹æœºå®‰è£…åŒ…: 
donwload: [https://syncthing.en.softonic.com/android](https://syncthing.en.softonic.com/android)


### é…ç½®åŒæ­¥æ–‡ä»¶å¤¹
å…ˆæ·»åŠ è¿œç¨‹è®¾å¤‡ï¼Œåœ¨æ‰‹æœºä¸Šï¼Œæˆ‘ä»¬æ·»åŠ ubuntuä½œä¸ºè¿œç«¯è®¾å¤‡ï¼Œè¿™é‡Œæ·»åŠ è®¾å¤‡æ˜¯é€šè¿‡å”¯ä¸€IDæˆ–è€…äºŒç»´ç æ¥æ·»åŠ çš„

é¦–å…ˆçœ‹æŸ¥çœ‹ubuntuä¸ŠsyncthingæœåŠ¡çš„ ID æˆ–è€…äºŒç»´ç 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071002403.png)

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071002532.png)

ç„¶åæ‰“å¼€æ‰‹æœºï¼Œå®‰è£…å¥½syncthing appï¼Œç„¶åæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹å›¾æ“ä½œï¼Œå…ˆç‚¹å‡»æ·»åŠ è®¾å¤‡ï¼Œé€šè¿‡æ‰«æäºŒç»´ç æ–¹å¼æ¥æ·»åŠ ï¼ˆæ¯”è¾ƒæ–¹ä¾¿ï¼‰
å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡IDæ¥æ·»åŠ 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071005442.png)
ç‚¹å‡»äºŒç»´ç å›¾æ ‡ï¼Œå¯ä»¥æ‰«æ
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071005862.png)
æ·»åŠ åŒæ­¥æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©ç›¸æœºå›¾ç‰‡å­˜å‚¨ç›®å½•ï¼Œä¸‹é¢åˆ—ä¸€ä¸‹é‡ç‚¹é¡¹ç›®ï¼Œå…¶ä»–å¯ä»¥é»˜è®¤
- å¡«å†™ä¸€ä¸ªåå­—ï¼Œæœ€å¥½é€šä¿—æ˜“æ‡‚
- é€‰æ‹©å°ç±³æ‰‹æœºç…§ç‰‡å­˜å‚¨ç›®å½•
- ç›®å½•ç§ç±»ï¼š å¯ä»¥é€‰æ‹©ä»…å‘é€ï¼Œä»£è¡¨å•æ–¹å‘ä»æ‰‹æœºåˆ°ubuntu å‘é€æ‹·è´ç…§ç‰‡
- ç›‘è§†æ›´æ”¹ï¼šé»˜è®¤æ‰“å¼€è½¯ä»¶çš„æ—¶å€™ï¼Œå°±ä¼šæ‰«ææœ€æ–°å›¾ç‰‡
- ç‰ˆæœ¬æ§åˆ¶ï¼š å¯ä»¥é€‰æ‹©åƒåœ¾æ¡¶æˆ–è€…ç®€å•æ–¹å¼ ï¼Œè¿™ä¸ªéœ€è¦æå‰çœ‹ä¸€ä¸‹å®˜ç½‘æ–‡æ¡£ï¼Œé˜²æ­¢é‚£å¤©è¯¯åˆ ç…§ç‰‡æˆ–è€…åŒæ­¥å‡ºç°é—®é¢˜
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071007861.png)

## alist 
ä¸€ä¸ªæ”¯æŒå¤šç§å­˜å‚¨ï¼Œæ”¯æŒç½‘é¡µæµè§ˆå’Œ WebDAV çš„æ–‡ä»¶åˆ—è¡¨ç¨‹åºï¼Œç”± gin å’Œ Solidjs é©±åŠ¨
### å®‰è£…alist 
è™½ç„¶1panelåº”ç”¨å•†åº—æä¾›è¯¥è½¯ä»¶ï¼Œæˆ‘ä»¬è¿™æ¬¡æ‰‹åŠ¨ç”¨dockeræ¥å®‰è£…ï¼Œå› ä¸ºä¹Ÿæ¯”è¾ƒç®€å•æ–¹ä¾¿
```shell
# è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯è¦æ³¨æ„ä¸€ä¸‹-v volumeç›®å½•ï¼Œè¦ä¿®æ”¹æˆè‡ªå·±çš„
docker run -d --restart=unless-stopped -v /mnt/d/alist/data:/opt/alist/data -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name="alist" xhofe/alist:latest
```
æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å¯åŠ¨æˆåŠŸ,çœ‹ä¸€ä¸‹å®¹å™¨çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡1panelé¢æ¿æ¥æŸ¥çœ‹
```shell
docker ps  |grep alist  
```

### è®¿é—®alist
å…¶å®é»˜è®¤ç¬¬ä¸€æ¬¡æ‰“å¼€æ˜¯æ²¡æœ‰å­˜å‚¨åç«¯çš„ï¼Œä¼šæœ‰æŠ¥é”™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡»é¡µé¢å³ä¸‹æ–¹`ç®¡ç†`è¿›å¦‚ç®¡ç†æ§åˆ¶å°é¡µé¢
```shell
# æ§åˆ¶å°é¡µé¢å¯†ç è·å–
root@DESKTOP-CK75KU2:/mnt/d/alist# docker logs -f alist 
INFO[2024-12-04 13:38:10] reading config file: data/config.json        
INFO[2024-12-04 13:38:10] config file not exists, creating default config file 
INFO[2024-12-04 13:38:10] load config from env with prefix:            
INFO[2024-12-04 13:38:10] init logrus...                               
INFO[2024-12-04 13:38:11] Successfully created the admin user and the initial password is: xxxxxxx  #å¯†ç åœ¨è¿™é‡Œ
INFO[2024-12-04 13:38:11] init tool pikpak success: ok                 
WARN[2024-12-04 13:38:11] init tool qBittorrent failed: Post "http://localhost:8080/api/v2/auth/login": dial tcp 127.0.0.1:8080: connect: connection refused 
WARN[2024-12-04 13:38:11] init tool transmission failed: failed get transmission version: can't get session values: 'session-get' rpc method failed: failed to execute HTTP request: Post "http://localhost:9091/transmission/rpc": dial tcp 127.0.0.1:9091: connect: connection refused 
INFO[2024-12-04 13:38:11] init tool 115 Cloud success: ok              
WARN[2024-12-04 13:38:11] init tool aria2 failed: failed get aria2 version: Post "http://localhost:6800/jsonrpc": dial tcp 127.0.0.1:6800: connect: connection refused 
INFO[2024-12-04 13:38:11] init tool SimpleHttp success: ok             
INFO[2024-12-04 13:38:11] start HTTP server @ 0.0.0.0:5244 
```

è®¿é—®ç½‘é¡µåœ°å€ï¼š http://localhost:5244 æˆ–è€…http://IP:port
ç”¨æˆ·å: admin
å¯†ç ï¼š å¦‚ä¸Šæ–¹æ³•è·å–
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070928713.png)

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070929839.png)

### å¯†ç é‡ç½®
```shell
# éšæœºç”Ÿæˆä¸€ä¸ªå¯†ç 
docker exec -it alist ./alist admin random
# æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªå¯†ç ,`NEW_PASSWORD`æ˜¯æŒ‡ä½ éœ€è¦è®¾ç½®çš„å¯†ç 
docker exec -it alist ./alist admin set NEW_PASSWORD
```

### å­˜å‚¨é˜¿é‡Œäº‘ç›˜
æˆ‘è¿™é‡Œç”¨é˜¿é‡Œäº‘ç›˜ä½œä¸ºåç«¯å­˜å‚¨ï¼Œå…¶ä»–ç½‘ç›˜å¯ä»¥è‡ªè¡Œå­¦ä¹ å‚è€ƒä¸‹
å®˜ç½‘åœ°å€: [https://alist-doc.nn.ci/docs/intro](https://alist-doc.nn.ci/docs/intro)
#### è·å–fold ID
æˆ‘ä»¬åœ¨äº‘ç›˜é‡Œé¢åˆ›å»ºä¸€ä¸ªç›®å½•ï¼ŒæŠŠè¿™ä¸ªç›®å½•ä½œä¸ºè·ŸAlistçš„æŒ‚è½½è®¾å¤‡
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071144423.png)

#### AlistæŒ‚è½½è·¯å¾„
æ–°å»ºå­˜å‚¨ï¼Œé€‰æ‹©é˜¿é‡Œäº‘ç›˜OPEN ï¼Œå…¶ä»–é˜¿é‡Œéƒ½å·²ç»ä¸èƒ½ç”¨äº†ã€‚è¿™ä¸ªè·¯å¾„åé¢åœ¨åˆ›å»ºç›®å½•çš„æ—¶å€™å¾ˆé‡è¦ï¼Œåé¢ä¼šæœ‰æ¼”ç¤º
å…¶å®æˆ‘çš„ç†è§£ï¼Œä¸ä¸€å®šå¯¹ï¼Œç›¸å½“äºAlistæŠŠé˜¿é‡Œäº‘ç›˜æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç›®å½•`Homevideo`æŒ‚è½½åˆ°ç›®å½•è·¯å¾„`aliyunopen`ä¸Š 

![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071145164.png)

æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412070935280.png)

### alisté˜¿é‡Œäº‘ç›˜webdavé…ç½®
è¿™ä¸ªä¾ç„¶å¯ä»¥å‚è€ƒaliastå®˜ç½‘
[https://alist.nn.ci/zh/guide/webdav.html](https://alist.nn.ci/zh/guide/webdav.html)
- Urlï¼š http[s]://domain:port/dav   #æˆ‘ä»¬è¿™é‡ŒæŠŠdomainæ›¿æ¢æˆIPåœ°å€
- Hostï¼š domain 
- è·¯å¾„ï¼š dav
- åè®®ï¼š http[s]
- ç«¯å£ï¼š ä¸ç½‘é¡µä¸€è‡´
- WebDavç”¨æˆ·åï¼š ä¸ç½‘é¡µç«¯ç”¨æˆ·åä¸€è‡´
- WebDavå¯†ç ï¼š ä¸ç½‘é¡µç«¯å¯†ç ä¸€è‡´
### å¯ä»¥ç”¨æ¥æŒ‚è½½WebDavçš„è½¯ä»¶
1. windows
- Potplayerï¼Œkmplayerï¼ŒRaiDriveï¼Œkodiï¼ŒOneCommanderï¼ŒMountain Duckï¼Œrcloneï¼ŒAIMP
2. MAC 
- VidHubï¼ŒIINAï¼ŒMountain Duckï¼Œinfuseï¼Œnetdriveï¼Œrclone
3. Android
- Nplayerï¼Œkmplayerï¼ŒESæ–‡ä»¶ç®¡ç†å™¨ï¼Œkodiï¼Œnovaé­”æ”¹ï¼Œreexï¼Œcx æ–‡ä»¶ç®¡ç†å™¨ï¼ŒSolid Explorerï¼ŒX-plore File Managerï¼ŒMiXplorer
4. IOS 
- VidHubï¼ŒNplayerï¼Œkmplayerï¼Œinfuseï¼ŒzFuse, Fileballæ–‡ä»¶ç®¡ç†å™¨
5. linux 
- davfs , rclone 
6. ç”µè§†TV
- VidHubï¼ŒNplayerï¼Œkodiï¼Œnovaé­”æ”¹

## rclone 
æœ¬æ–‡è®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹å¦‚ä½•ä½¿ç”¨å¼ºå¤§çš„ rclone å‘½ä»¤è¡Œå·¥å…·é…ç½®æŒ‚è½½ WebDAV äº‘ç›˜


### rclone å¯¹æ¥Alistç½‘ç›˜WebDavåè®®
æˆ‘ä»¬é€šè¿‡rclone configé…ç½®ï¼Œçœ‹èµ·æ¥å¤æ‚ï¼Œå…¶å®å¾ˆç®€å•ï¼Œåªè¦æ ¹æ®æç¤ºï¼Œè¿›è¡Œé€‰æ‹©å°±å¥½äº†
```shell
root@DESKTOP-CK75KU2:/mnt/d/rclone# rclone config
Current remotes:

Name                 Type
====                 ====
aliyunpan            webdav

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q> n

Enter name for new remote.
name> aliyunpan01

Option Storage.
Type of storage to configure.
Choose a number from below, or type in your own value.
 1 / 1Fichier
   \ (fichier)
 2 / Akamai NetStorage
   \ (netstorage)
 3 / Alias for an existing remote
   \ (alias)
 4 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, ArvanCloud, Ceph, ChinaMobile, Cloudflare, DigitalOcean, Dreamhost, GCS, HuaweiOBS, IBMCOS, IDrive, IONOS, LyveCloud, Leviia, Liara, Linode, Magalu, Minio, Netease, Petabox, RackCorp, Rclone, Scaleway, SeaweedFS, StackPath, Storj, Synology, TencentCOS, Wasabi, Qiniu and others
   \ (s3)
......
   \ (storj)
50 / Sugarsync
   \ (sugarsync)
51 / Transparently chunk/split large files
   \ (chunker)
52 / Uloz.to
   \ (ulozto)
53 / Union merges the contents of several upstream fs
   \ (union)
54 / Uptobox
   \ (uptobox)
55 / WebDAV
   \ (webdav)
56 / Yandex Disk
   \ (yandex)
57 / Zoho
   \ (zoho)
58 / premiumize.me
   \ (premiumizeme)
59 / seafile
   \ (seafile)
Storage> 55

Option url.
URL of http host to connect to.
E.g. https://example.com.
Enter a value.
url> http://192.168.31.239:5224/dav

Option vendor.
Name of the WebDAV site/service/software you are using.
Choose a number from below, or type in your own value.
Press Enter to leave empty.
 1 / Fastmail Files
   \ (fastmail)
 2 / Nextcloud
   \ (nextcloud)
 3 / Owncloud
   \ (owncloud)
 4 / Sharepoint Online, authenticated by Microsoft account
   \ (sharepoint)
 5 / Sharepoint with NTLM authentication, usually self-hosted or on-premises
   \ (sharepoint-ntlm)
 6 / rclone WebDAV server to serve a remote over HTTP via the WebDAV protocol
   \ (rclone)
 7 / Other site/service or software
   \ (other)
vendor> 6

Option user.
User name.
In case NTLM authentication is used, the username should be in the format 'Domain\User'.
Enter a value. Press Enter to leave empty.
user> admin

Option pass.
Password.
Choose an alternative below. Press Enter for the default (n).
y) Yes, type in my own password
g) Generate random password
n) No, leave this optional password blank (default)
y/g/n> y
Enter the password:
password:
Confirm the password:
password:

Option bearer_token.
Bearer token instead of user/pass (e.g. a Macaroon).
Enter a value. Press Enter to leave empty.
bearer_token>

Edit advanced config?
y) Yes
n) No (default)
y/n>

Configuration complete.
Options:
- type: webdav
- url: http://192.168.31.239:5224/dav
- vendor: rclone
- user: admin
- pass: *** ENCRYPTED ***
Keep this "aliyunpan01" remote?
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d> y

Current remotes:

Name                 Type
====                 ====
aliyunpan            webdav
aliyunpan01          webdav

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q>q

```
### rcloneç›¸å…³å‘½ä»¤
```
# æŸ¥çœ‹é…ç½®ä¿¡æ¯
root@DESKTOP-CK75KU2:~# rclone config show 
[aliyunpan]
type = webdav
url = http://192.168.31.239:5244/dav
vendor = rclone
user = admin
pass = Tt2zB4jg2EIXHc8JYf3nXHdIvwua0HUC
# æŸ¥çœ‹é…ç½®æ–‡ä»¶è·¯å¾„
root@DESKTOP-CK75KU2:~# rclone config paths
Config file: /root/.config/rclone/rclone.conf
Cache dir:   /root/.cache/rclone
Temp dir:    /tmp
# åˆ—å‡ºè¿œç¨‹ç«¯è®¾å¤‡
root@DESKTOP-CK75KU2:~# rclone listremotes 
aliyunpan:
# åˆ—å‡ºè¿œç¨‹ç«¯è®¾å¤‡æ¯”å¦‚ç½‘ç›˜é‡Œé¢çš„æ–‡ä»¶åˆ—è¡¨
root@DESKTOP-CK75KU2:~# rclone ls aliyunpan:  
      375 aliyunopen/mkdocs_start.sh
      335 aliyunopen/myopentoken.txt
       32 aliyunopen/mytoken.txt
 22492286 aliyunopen/rclone-v1.68.2-linux-amd64.zip
       40 aliyunopen/temp_transfer_folder_id.txt

```

### rclone æŒ‚è½½
ç±»ä¼¼mountå‘½ä»¤ï¼ŒæŠŠAlistå­˜å‚¨çš„é˜¿é‡Œäº‘ç›˜ï¼Œé€šè¿‡WebDavæŒ‚è½½åˆ°æœºå™¨ä¸Š
```shell
mkdir /mnt/c/webdav 
rclone mount aliyunpan: /mnt/c/webdav  --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 022 --use-mmap --daemon
```
é€šè¿‡æŒ‚è½½å‘½ä»¤ï¼ŒæŒ‚è½½åˆ°ubuntuæœºå™¨ä¸Šï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥ä½œä¸ºlinuxç³»ç»Ÿå­˜å‚¨ç›®å½•äº†ï¼ˆç±»ä¼¼mountï¼‰
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071039989.png)

### rclone åˆ›å»ºç›®å½•
å…¶å®çœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥èƒ½å¤Ÿæƒ³åˆ°ï¼Œæˆ‘ä»¬å¦‚æœå¤‡ä»½ç…§ç‰‡ï¼Œå°±å¯ä»¥é€šè¿‡rcloneæŠŠæ•°æ®æˆ–è€…ç…§ç‰‡ç›´æ¥æ‹·è´åŒæ­¥åˆ°é˜¿é‡Œäº‘ç›˜äº†ï¼Œå¦‚æœé˜¿é‡Œäº‘ç›˜å¤‡ä»½è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬é€šè¿‡aliståœ¨æ¥å…¥å¤šä¸ªç½‘ç›˜ï¼Œè¾¾åˆ°å¤šä¸ªç½‘ç›˜
å¼‚åœ°å¤šå¤‡ä»½çš„æ•ˆæœï¼Œå……åˆ†ä¿è¯æ•°æ®æˆ–è€…ç…§ç‰‡çš„å®‰å…¨

**æ³¨æ„ï¼šç›®å½•å±‚æ¬¡è¿™é‡Œå¾ˆé‡è¦ï¼ŒAlistæ¥å…¥é˜¿é‡Œäº‘ç›˜çš„æ—¶å€™ï¼ŒæŒ‚è½½è·¯å¾„æˆ‘å†™çš„æ˜¯`aliyunopen`,è·Ÿé˜¿é‡Œäº‘ç›˜é‡Œé¢ç›®å½•`Homevideo`æ˜¯ç›¸å¯¹åº”çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›å»ºç›®å½•è¦åœ¨`aliyunopen`ç›®å½•ä¸‹åˆ›å»º**
ä¸Šé¢è¯´çš„æ³¨æ„ç‚¹ï¼Œä¸çŸ¥é“å¤§å®¶èƒ½ç†è§£ä¸ï¼Œä¸ç†è§£å¯ä»¥å…ˆæŒ‰ç…§è¿™ä¹ˆåš

```
root@DESKTOP-CK75KU2:~# rclone mkdir aliyunpan:aliyunopen/wedding-photos
root@DESKTOP-CK75KU2:/mnt/c/webdav/aliyunopen# rclone lsd aliyunpan: --max-depth 2
          -1 2024-12-04 23:06:22        -1 aliyunopen
          -1 2024-12-07 11:32:53        -1 aliyunopen/wedding-photos
```
æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹æŒ‚è½½ç›®å½•ä¹Ÿå¯ä»¥çœ‹åˆ°
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071133626.png)

### rclone åŒæ­¥æ•°æ®(æˆ–ç…§ç‰‡)

å­å‘½ä»¤ rsync 
> Sync the source to the destination, changing the destination only. Doesn't transfer files that are identical on source and destination, testing by size and modification time or MD5SUM. Destination is updated to match source, including deleting files if necessary (except duplicate objects, see below). If you don't want to delete files from destination, use the copy command instead.

é˜¿é‡Œäº‘ç›˜ï¼š aliyunpan:aliyunopen/wedding-photos
æœ¬åœ°ç›®å½•ï¼š /mnt/d/images/ 

```shell
root@DESKTOP-CK75KU2:/mnt/d/images# rclone sync å®šæ ¼æ—¶å…‰ç›¸å†ŒÃ—2/ aliyunpan:aliyunopen/wedding-photos/
root@DESKTOP-CK75KU2:/mnt/d/images/å®šæ ¼æ—¶å…‰ç›¸å†ŒÃ—2# rclone ls aliyunpan:aliyunopen/wedding-photos/  | wc -l
35
root@DESKTOP-CK75KU2:/mnt/d/images/å®šæ ¼æ—¶å…‰ç›¸å†ŒÃ—2# ls
1L9A3615.jpg  1L9A3759.jpg  1L9A3899.jpg  1L9A3965.jpg  å€¾åŸç›¸æ¡†1æ•´å¼ 1L9A3825.jpg     å®šæ ¼æ—¶å…‰æ‘†å°1L9A4036.jpg
1L9A3629.jpg  1L9A3765.jpg  1L9A3925.jpg  1L9A4057.jpg  å®šæ ¼æ—¶å…‰ä¸­æ¡†ä¸­ä¸Š1L9A3678.jpg  å®šæ ¼æ—¶å…‰æ‘†å°1L9A4048.jpg
1L9A3648.jpg  1L9A3791.jpg  1L9A3935.jpg  1L9A4070.jpg  å®šæ ¼æ—¶å…‰ä¸­æ¡†ä¸­ä¸‹1L9A3927.jpg  å®šæ ¼æ—¶å…‰è¾¹æ¡†1L9A3668.jpg
1L9A3715.jpg  1L9A3822.jpg  1L9A3937.jpg  1L9A4092.jpg  å®šæ ¼æ—¶å…‰ä¸­æ¡†ä¸­ä¸‹1L9A4065.jpg  å®šæ ¼æ—¶å…‰è¾¹æ¡†1L9A3833.jpg
1L9A3743.jpg  1L9A3830.jpg  1L9A3944.jpg  1L9A4095.jpg  å®šæ ¼æ—¶å…‰æ‘†å°1L9A3832.jpg      æµ·æŠ¥1L9A3992.jpg
1L9A3751.jpg  1L9A3840.jpg  1L9A3948.jpg  1L9A4098.jpg  å®šæ ¼æ—¶å…‰æ‘†å°1L9A3903.jpg
root@DESKTOP-CK75KU2:/mnt/d/images/å®šæ ¼æ—¶å…‰ç›¸å†ŒÃ—2# rclone lsl aliyunpan:aliyunopen/wedding-photos/
 14442675 2024-12-07 11:57:53.000000000 1L9A3615.jpg
 14179640 2024-12-07 11:57:58.000000000 1L9A3629.jpg
 14143112 2024-12-07 11:58:06.000000000 1L9A3648.jpg
```
æˆ‘ä»¬çœ‹ä¸€ä¸‹é˜¿é‡Œäº‘ç›˜ï¼Œå·²ç»æœ‰ç…§ç‰‡äº†ã€‚å¾ˆæ£’ï¼ŒåŒæ­¥å¤‡ä»½æˆåŠŸï¼Œç»è¿‡è¿™ä¹ˆä¸€ç•ªæŠ˜è…¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠç…§ç‰‡å¤‡ä»½åˆ°é˜¿é‡Œäº‘ç›˜äº† 
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071200951.png)

è¿˜æœ‰ä¸€ä¸ªå°Tipsï¼Œéœ€è¦è¯´æ˜ä¸‹ï¼Œå…¶å®/mnt/d/images ç›®å½•å°±æ˜¯windowsçš„Dç›˜
![](https://bdsblog.oss-cn-shanghai.aliyuncs.com/blog/202412071207549.png)
è¿™å°±æ˜¯ç”¨windows WSLçš„ubuntuçš„å¥½å¤„ï¼Œä¿©ä¸ªç³»ç»Ÿç›¸å½“äºæ˜¯äº’é€šçš„






















